clusterEnv: local

# Used for Infisical projectSlug in prod.
projectName: ""

instance:
  enabled: true
  name: openclaw
  envFromSecretName: openclaw-secrets

  configRaw:
    gateway:
      bind: lan

    agents:
      defaults:
        models:
          "openai-codex/gpt-5.2-codex":
            alias: codex
        model:
          primary: "openai-codex/gpt-5.2-codex"

    channels:
      whatsapp:
        dmPolicy: "allowlist"
        # OpenClaw config supports env interpolation (same mechanism as OPENCLAW_GATEWAY_TOKEN).
        # The value comes from secret/openclaw-secrets as OPENCLAW_OWNER_PHONE.
        allowFrom:
          - "${OPENCLAW_OWNER_PHONE}"

    tools:
      profile: "full"
      web:
        search:
          enabled: true
          provider: "perplexity"
          maxResults: 6
          perplexity:
            # Uses PERPLEXITY_API_KEY from the environment unless apiKey is set here.
            baseUrl: "https://api.perplexity.ai"
            model: "perplexity/sonar-pro"

  storage:
    persistence:
      enabled: true
      size: 10Gi

  chromium:
    enabled: true
    image:
      repository: ghcr.io/browserless/chromium
      tag: "v2.40.0"
    resources:
      requests:
        cpu: "250m"
        memory: "512Mi"
      limits:
        cpu: "1000m"
        memory: "2Gi"

  networking:
    ingress:
      enabled: false
      className: ""
      annotations: {}
      security:
        forceHTTPS: true
        enableHSTS: true
      hosts: []

  security:
    networkPolicy:
      allowedIngressNamespaces: []

infisical:
  # Only enabled in prod via mise tasks.
  enabled: false
